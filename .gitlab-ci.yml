stages:
  - test

tests:
  stage: test
  image: 'fedora:latest'
  script:
    - dnf install -y pipenv
    - pipenv install --ignore-pipfile
    - pipenv shell
    - flake8 --show-source src/ tests/
    - python3 setup.py install # needed to run tests
    - pytest tests/
